(this["webpackJsonpauth-gui"]=this["webpackJsonpauth-gui"]||[]).push([[0],{68:function(e){e.exports=JSON.parse('{"title":"Jarand Authentication","global":{"loading":"Loading..."},"home":{"logged-in-as":"Logged in as"},"login":{"title":"Login","email":"Email","password":"Password","login":"Login","register-user":"Register user","two-factor-desc":"Enter a code from the Authenticator app on your mobile device","code":"Code","verify-code":"Verify code"},"register":{"title":"Register user","email":"Email","password":"Password","confirm-password":"Confirm password","register":"Register","login":"Login","download-title":"Download Authenticator app","download-desc":"Before you can complete registration you have to setup an authenticator app for generating login codes. The Google Authenticator app is recommended, but any TOTP (Time-based one-time password) based app works.","qr-title":"Scan the QR code","qr-desc":"Use the authenticator app from the previous step to scan the QR code below:","qr-image-alt":"QR code","secret-prefix":"You can also enter this code","secret-suffix":"manually in the app.","verify-title":"Verify setup","verify-desc":"The last step is to enter a code generated by the app to verify that everything is correctly setup.","code":"Code","verify-code":"Verify code"},"apps":{"title":"Authorized apps","authorized":"Authorized"},"new-app":{"title":"Connect new app","desc":"By connecting an app you allow that app operate on your behalf, limited to the permissions below. You can revoke this permission at any time.","permission":"Permission","authorize":"Authorize","cancel":"Cancel"},"oauth-error":{"title":"Something went wrong","invalid-client-id":"App does not exist","invalid-fields":"Request contains invalid fields","missing-claims":"Server failed to verify user login status","unknown-client":"App does not exist","unexpected-redirect-uri":"Unexpected redirect uri","unknown-scope":"Requested permission does not exist","invalid-scope":"The logged in user is not allowed to request this permission"},"auth-api":{"login":{"factor-one":{"missing-email":"Email is required","missing-password":"Password is required","invalid-email":"Email is invalid","invalid-password":"Password is invalid","wrong-credentials":"Invalid username and/or password"},"factor-two":{"missing-code":"Code is required","invalid-code":"Code is invalid","parse-failed":"Failed to parse token","missing-token":"Token is missing","invalid-level":"Token is invalid","no-user":"Token is invalid","wrong-code":"Code is wrong"}},"register":{"totp-setup":{"missing-code":"Code is required","invalid-code":"Code is invalid","parse-failed":"Failed to parse token","missing-token":"Token is missing","invalid-level":"Token is invalid","no-user":"Token is invalid","wrong-code":"Code is wrong","already-setup":"Two factor authentication is already setup"},"missing-email":"Email is required","invalid-email":"Email is invalid","missing-password":"Password is required","invalid-password":"Password is invalid, 8 or more characters is needed","missing-confirmed-password":"Confirmed password is required","invalid-confirmed-password":"Password is invalid, 8 or more characters is needed","password-mismatch":"Confirmed password does not match password","email-in-use":"Email is already registered"}}}')},69:function(e){e.exports=JSON.parse('{"title":"Jarand Autentisering","global":{"loading":"Laster inn..."},"home":{"logged-in-as":"Logget inn som"},"login":{"title":"Logg inn","email":"E-post","password":"Passord","login":"Logg inn","register-user":"Registrer bruker","two-factor-desc":"Oppgi en kode fra autentiseringsappen p\xe5 din telefon","code":"Kode","verify-code":"Verifiser kode"},"register":{"title":"Registrer bruker","email":"E-post","password":"Passord","confirm-password":"Bekreft passord","register":"Registrer","login":"Logg inn","download-title":"Last ned autentiseringsapp","download-desc":"F\xf8r du kan fullf\xf8re registrering m\xe5 du sette opp en autentiseringsapp for \xe5 generere innloggingskoder. Appen Google Autentisering er anbefalt, men alle apper basert p\xe5 TOTP (Tidsbasert engangspassord) fungerer.","qr-title":"Skann QR-koden","qr-desc":"Bruk autentiseringsappen fra forrige steg for \xe5 skanne QR-koden under:","qr-image-alt":"QR-kode","secret-prefix":"Du kan ogs\xe5 oppgi denne koden","secret-suffix":"manuelt i appen.","verify-title":"Verifiser oppsett","verify-desc":"Siste steg er \xe5 oppgi en kode generert av appen for \xe5 verifisere at alt er riktig satt opp.","code":"Kode","verify-code":"Verifiser kode"},"apps":{"title":"Autoriserte apper","authorized":"Autorisert"},"new-app":{"title":"Koble til ny app","desc":"Ved \xe5 koble til en app tillater du den appen \xe5 operere p\xe5 dine vegne, begrenset til tilgangene under. Du kan fjerne denne tilgangen n\xe5r som helst.","permission":"Tilgang","authorize":"Autoriser","cancel":"Avbryt"},"oauth-error":{"title":"Noe gikk galt","invalid-client-id":"Appen finnes ikke","invalid-fields":"Foresp\xf8rselen inneholder ugyldig data","missing-claims":"Serveren klarte ikke \xe5 verifisere innloggingsstatus","unknown-client":"Appen finnes ikke","unexpected-redirect-uri":"Uventet omdirigeringslenke","unknown-scope":"Forespurt tilgang finnes ikke","invalid-scope":"Den innloggede brukeren har ikke lov til \xe5 f\xe5 denne tilgangen"},"auth-api":{"login":{"factor-one":{"missing-email":"E-postadresse er p\xe5krevd","missing-password":"Passord er p\xe5krevd","invalid-email":"E-postadresse er ugyldig","invalid-password":"Passord er ugyldig","wrong-credentials":"Ugyldig brukernavn og/eller passord"},"factor-two":{"missing-code":"Kode er p\xe5krevd","invalid-code":"Kode er ugyldig","parse-failed":"Feilet ved lesing av n\xf8kkel","missing-token":"N\xf8kkel er p\xe5krevd","invalid-level":"N\xf8kkel er ugyldig","no-user":"N\xf8kkel er ugyldig","wrong-code":"Kode er feil"}},"register":{"totp-setup":{"missing-code":"Kode er p\xe5krevd","invalid-code":"Kode er ugyldig","parse-failed":"Feilet ved lesing av n\xf8kkel","missing-token":"N\xf8kkel er p\xe5krevd","invalid-level":"N\xf8kkel er ugyldig","no-user":"N\xf8kkel er ugyldig","wrong-code":"Kode er feil","already-setup":"Tofaktor-autentisering er allerede satt opp"},"missing-email":"E-postadresse er p\xe5krevd","invalid-email":"E-postadresse er ugyldig","missing-password":"Passord er p\xe5krevd","invalid-password":"Passord er ugyldig, 8 eller flere tegn er p\xe5krevd","missing-confirmed-password":"Bekreftet passord er p\xe5krevd","invalid-confirmed-password":"Bekreftet passord er ugyldig, 8 eller flere tegn er p\xe5krevd","password-mismatch":"Bekreftet passord er ikke likt som passord","email-in-use":"E-postadressen er allerede registrert"}}}')},81:function(e,t,a){e.exports=a(99)},86:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(10),o=a.n(i),s=(a(86),a(27)),c=a(13),l=a(9),d=a(6),u=a.n(d),m=a(12),p=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/token-data",{method:"GET",credentials:"same-origin"});case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",{});case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=a(149),f=a(48);var v=function(){var e=Object(c.f)(),t=Object(g.a)("common").t,a=Object(r.useState)(!0),i=Object(l.a)(a,2),o=i[0],s=i[1],d=Object(r.useState)(),u=Object(l.a)(d,2),m=u[0],v=u[1];return Object(r.useEffect)((function(){p().then((function(t){t.email?(v(t.email),s(!1)):e.push("/login")}))}),[e]),o?n.a.createElement(f.a,{variant:"h6",align:"center"},t("global.loading")):n.a.createElement("div",null,n.a.createElement(f.a,{variant:"h5",align:"center"},t("home.logged-in-as")," ",n.a.createElement("b",null,m)))},b=a(134),h=a(133),E=Object(h.a)((function(){return{title:{backgroundColor:"#ffeddd",paddingTop:50,paddingBottom:50,marginBottom:10}}})),w=function(e){var t=e.title,a=E();return n.a.createElement("div",{className:a.title},n.a.createElement(b.a,null,n.a.createElement(f.a,{variant:"h3",align:"center"},t)))},k=a(135),y=a(28),x=a(22),O=a(147),j=a(138),S=a(148),T=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login/factor-one",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var C=function(e){var t=e.onLogin,a=Object(c.f)(),i=Object(g.a)("common").t,o=Object(r.useState)({email:"",password:""}),s=Object(l.a)(o,2),d=s[0],p=s[1],f=Object(r.useState)({}),v=Object(l.a)(f,2),b=v[0],h=v[1],E=function(e){p(Object(x.a)(Object(x.a)({},d),{},Object(y.a)({},e.target.id,e.target.value)))},w=function(){var e=Object(m.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h({}),e.next=4,T(d);case 4:if(!(r=e.sent).errors){e.next=8;break}return h({email:r.errors.email,password:r.errors.password,global:r.errors.global}),e.abrupt("return");case 8:t(r.basicToken);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("form",{onSubmit:w},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"email",type:"email",label:i("login.email"),variant:"outlined",fullWidth:!0,value:d.email,onChange:E,error:void 0!==b.email,helperText:i(b.email)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"password",type:"password",label:i("login.password"),variant:"outlined",fullWidth:!0,value:d.password,onChange:E,error:void 0!==b.password,helperText:i(b.password)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(j.a,{type:"submit",color:"primary",size:"large",variant:"contained",fullWidth:!0},i("login.login"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(S.a,{severity:"error",className:b.global?"":"Hide"},i(b.global))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(j.a,{variant:"outlined",color:"primary",onClick:function(){a.push("/register")}},i("login.register-user")))))},P=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login/factor-two",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 2:if((r=e.sent).ok){e.next=7;break}return e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var R=function(e){var t=e.basicToken,a=e.onLogin,i=Object(g.a)("common").t,o=Object(r.useState)({code:""}),s=Object(l.a)(o,2),c=s[0],d=s[1],p=Object(r.useState)({}),v=Object(l.a)(p,2),b=v[0],h=v[1],E=function(){var e=Object(m.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),h({}),e.next=4,P(c,t);case 4:if(!(n=e.sent).errors){e.next=8;break}return h({code:n.errors.code,global:n.errors.global}),e.abrupt("return");case 8:a();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("form",{onSubmit:E},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"body1",align:"center"},i("login.two-factor-desc"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"code",type:"code",label:i("login.code"),variant:"outlined",fullWidth:!0,value:c.code,onChange:function(e){d(Object(x.a)(Object(x.a)({},c),{},Object(y.a)({},e.target.id,e.target.value)))},error:void 0!==b.code,helperText:i(b.code)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(j.a,{type:"submit",color:"primary",size:"large",variant:"contained",fullWidth:!0},i("login.verify-code"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(S.a,{severity:"error",className:b.global?"":"Hide"},i(b.global)))))};var q=function(){var e=Object(c.f)(),t=Object(c.g)(),a=Object(g.a)("common").t,i=Object(r.useState)(!0),o=Object(l.a)(i,2),s=o[0],d=o[1],u=Object(r.useState)(),m=Object(l.a)(u,2),v=m[0],b=m[1],h=Object(r.useState)(null),E=Object(l.a)(h,2),w=E[0],k=E[1];return Object(r.useEffect)((function(){p().then((function(a){if(a.email)e.push("/");else{var r=new URLSearchParams(t.search).get("redirect");r&&k(decodeURIComponent(r)),d(!1)}}))}),[e,t]),s?n.a.createElement(f.a,{variant:"h6",align:"center"},a("global.loading")):n.a.createElement("div",null,!v&&n.a.createElement(C,{onLogin:function(e){return b(e)}}),v&&n.a.createElement(R,{basicToken:v,onLogin:function(){w?e.push(w):e.push("/")}}))};var A=function(){var e=Object(g.a)("common").t;return n.a.createElement(b.a,{maxWidth:"sm"},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h4",align:"center"},e("login.title"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(q,null))))},L=(a(98),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var z=function(e){var t=e.onRegister,a=Object(g.a)("common").t,r=Object(c.f)(),i=n.a.useState({email:"",password:"",confirmedPassword:""}),o=Object(l.a)(i,2),s=o[0],d=o[1],p=n.a.useState({}),f=Object(l.a)(p,2),v=f[0],b=f[1],h=function(e){d(Object(x.a)(Object(x.a)({},s),{},Object(y.a)({},e.target.id,e.target.value)))},E=function(){var e=Object(m.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),b({}),e.next=4,L(s);case 4:if(!(r=e.sent).errors){e.next=8;break}return b({email:r.errors.email,password:r.errors.password,confirmedPassword:r.errors.confirmedPassword}),e.abrupt("return");case 8:t(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("form",{onSubmit:E},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"email",type:"email",label:a("register.email"),variant:"outlined",fullWidth:!0,value:s.email,onChange:h,error:void 0!==v.email,helperText:a(v.email)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"password",type:"password",label:a("register.password"),variant:"outlined",fullWidth:!0,value:s.password,onChange:h,error:void 0!==v.password,helperText:a(v.password)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"confirmedPassword",type:"password",label:a("register.confirm-password"),variant:"outlined",fullWidth:!0,value:s.confirmedPassword,onChange:h,error:void 0!==v.confirmedPassword,helperText:a(v.confirmedPassword)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(j.a,{type:"submit",color:"primary",size:"large",variant:"contained",fullWidth:!0},a("register.register"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(j.a,{variant:"outlined",color:"primary",onClick:function(){r.push("/login")}},a("register.login")))))},N=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/register/totp-setup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 2:if((r=e.sent).ok){e.next=7;break}return e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var W=function(e){var t=e.registeredData,a=e.onRegister,r=Object(g.a)("common").t,i=n.a.useState({code:""}),o=Object(l.a)(i,2),s=o[0],c=o[1],d=n.a.useState({}),p=Object(l.a)(d,2),v=p[0],b=p[1],h=function(){var e=Object(m.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),b({}),e.next=4,N(s,t.registeredToken);case 4:(n=e.sent).errors&&b({global:n.errors.global,code:n.errors.code}),a();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("form",{onSubmit:h},n.a.createElement(k.a,{container:!0,spacing:3,alignContent:"center"},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h5"},"1. ",r("register.download-title")),n.a.createElement(f.a,{variant:"body1"},r("register.download-desc"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h5"},"2. ",r("register.qr-title")),n.a.createElement(f.a,{variant:"body1"},r("register.qr-desc")),n.a.createElement("img",{src:t.qrCodeUrl,alt:r("register.qr-image-alt")}),n.a.createElement(f.a,{variant:"body1"},r("register.secret-prefix"),n.a.createElement("b",null,t.totpSecretKey)," ",r("register.secret-suffix"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h5"},"3. ",r("register.verify-title")),n.a.createElement(f.a,{variant:"body1"},r("register.verify-desc"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"code",type:"text",label:r("register.code"),variant:"outlined",fullWidth:!0,value:s.code,onChange:function(e){c(Object(x.a)(Object(x.a)({},s),{},Object(y.a)({},e.target.id,e.target.value)))},error:void 0!==v.code,helperText:r(v.code)})),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(j.a,{type:"submit",color:"primary",size:"large",variant:"contained",fullWidth:!0},r("register.verify-code"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(S.a,{severity:"error",className:v.global?"":"Hide"},r(v.global)))))};var U=function(){var e=Object(c.f)(),t=Object(g.a)("common").t,a=Object(r.useState)(!0),i=Object(l.a)(a,2),o=i[0],s=i[1],d=Object(r.useState)(null),u=Object(l.a)(d,2),m=u[0],v=u[1];return Object(r.useEffect)((function(){p().then((function(t){t.email?e.push("/"):s(!1)}))}),[e]),o?n.a.createElement(f.a,{variant:"h6",align:"center"},t("global.loading")):n.a.createElement("div",null,!m&&n.a.createElement(z,{onRegister:function(e){return v({registeredToken:e.registeredToken,qrCodeUrl:e.qrCodeUrl,totpSecretKey:e.totpSecretKey})}}),m&&n.a.createElement(W,{registeredData:m,onRegister:function(){return e.push("/")}}))};var I=function(){var e=Object(g.a)("common").t;return n.a.createElement(b.a,{maxWidth:"sm"},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h4",align:"center"},e("register.title"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(U,null))))},B=a(140),K=a(141),D=a(143),J=a(144),V=a(139),F=a(142),Q=a(145),G=a(137);var _=function(e){var t=e.apps,a=Object(g.a)("common").t;return n.a.createElement(G.a,null,t.map((function(e){return n.a.createElement(B.a,{key:e.clientId},n.a.createElement(K.a,null,n.a.createElement(F.a,null)),n.a.createElement(D.a,{primary:e.name,secondary:"".concat(a("apps.authorized")," ").concat(new Date(e.authorizedTime).toLocaleString())}),n.a.createElement(J.a,null,n.a.createElement(V.a,{id:e.clientId,edge:"end","aria-label":"delete"},n.a.createElement(Q.a,null))))})))},H=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/connected-app",{method:"GET",credentials:"same-origin"});case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/app/".concat(t),{method:"GET",credentials:"same-origin"});case 2:if((a=e.sent).ok){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var M=function(){var e=Object(g.a)("common").t,t=Object(c.f)(),a=Object(r.useState)(!0),i=Object(l.a)(a,2),o=i[0],s=i[1],d=Object(r.useState)(null),p=Object(l.a)(d,2),v=p[0],b=p[1];return Object(r.useEffect)((function(){H().then((function(e){e?Promise.all(e.map(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t.clientId);case 2:return a=e.sent,e.abrupt("return",Object(x.a)(Object(x.a)({},t),{},{name:a.name}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){b(e),s(!1)})):t.push("/login")}))}),[t]),o?n.a.createElement(f.a,{variant:"h6",align:"center"},e("global.loading")):n.a.createElement(_,{apps:v})};var X=function(){var e=Object(g.a)("common").t;return n.a.createElement(b.a,{maxWidth:"sm"},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h4",align:"center"},e("apps.title"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(M,null))))};var Z=function(e){var t=e.app,a=Object(g.a)("common").t;return n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"body1"},a("new-app.desc"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(G.a,null,n.a.createElement(B.a,{key:t.clientId},n.a.createElement(K.a,null,n.a.createElement(F.a,null)),n.a.createElement(D.a,{primary:t.name,secondary:"".concat(a("new-app.permission"),": ").concat(t.scopeId)}))),n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12,sm:6},n.a.createElement(j.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){window.location.href="/api/oauth/authorize?client_id=".concat(t.clientId,"&response_type=code&redirect_uri=").concat(t.redirectUri,"&scope=").concat(t.scopeId)}},a("new-app.authorize"))),n.a.createElement(k.a,{item:!0,xs:12,sm:6},n.a.createElement(j.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){window.location.href=t.redirectUri}},a("new-app.cancel"))))))};var $=function(){var e=Object(g.a)("common").t,t=Object(c.f)(),a=Object(c.g)(),i=Object(r.useState)(!0),o=Object(l.a)(i,2),s=o[0],d=o[1],u=Object(r.useState)(null),m=Object(l.a)(u,2),v=m[0],b=m[1];return Object(r.useEffect)((function(){p().then((function(e){if(e.email){var r=new URLSearchParams(a.search),n=r.get("client_id"),i=r.get("redirect_uri"),o=r.get("scope");Y(n).then((function(e){e?(b({clientId:n,name:e.name,redirectUri:i,scopeId:o}),d(!1)):t.push("/oauth-error?error=invalid-client-id")}))}else{var s=encodeURIComponent("".concat(a.pathname).concat(a.search));t.push("/login?redirect=".concat(s))}}))}),[t,a]),s?n.a.createElement(f.a,{variant:"h6",align:"center"},e("global.loading")):n.a.createElement(Z,{app:v})};var ee=function(){var e=Object(g.a)("common").t;return n.a.createElement(b.a,{maxWidth:"sm"},n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h4",align:"center"},e("new-app.title"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement($,null))))};var te=function(){var e=Object(g.a)("common").t,t=Object(c.g)(),a=new URLSearchParams(t.search).get("error");return n.a.createElement(k.a,{container:!0,spacing:3},n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"h4",align:"center"},e("oauth-error.title"))),n.a.createElement(k.a,{item:!0,xs:12},n.a.createElement(f.a,{variant:"body1",align:"center"},e("oauth-error.".concat(a)))))};var ae=function(){var e=Object(g.a)("common").t;return n.a.createElement("div",null,n.a.createElement(w,{title:e("title")}),n.a.createElement(s.a,null,n.a.createElement(c.c,null,n.a.createElement(c.a,{exact:!0,path:"/"},n.a.createElement(v,null)),n.a.createElement(c.a,{exact:!0,path:"/login"},n.a.createElement(A,null)),n.a.createElement(c.a,{exact:!0,path:"/register"},n.a.createElement(I,null)),n.a.createElement(c.a,{exact:!0,path:"/apps"},n.a.createElement(X,null)),n.a.createElement(c.a,{exact:!0,path:"/apps/new"},n.a.createElement(ee,null)),n.a.createElement(c.a,{exact:!0,path:"/oauth-error"},n.a.createElement(te,null)))))},re=a(53),ne=a(146),ie=a(68),oe=a(69);re.a.init({interpolation:{escapeValue:!1},lng:"no",resources:{en:{common:ie},no:{common:oe}}}),o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ne.a,{i18n:re.a},n.a.createElement(ae,null))),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.841afb35.chunk.js.map